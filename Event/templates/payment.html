{% extends "layout.html" %}  
{% block content %}
    <div class="container">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
        {% endwith %}
        <div class="row">
            <div class="col-md-8 order-md-1 ">
            <h2 class="mb-4">Payment</h2>
            <div class="row gy-3">

                <form class="form-payment" method="POST" action="">
                {{ form.hidden_tag() }}                

                    <div class="form-group">
                        {{ form.name.label(class="sr-only") }}
                        <label for="cc-name" class="form-label">Name on card</label>
                        {% if form.name.errors %}
                            {{ form.name(class="form-control form-control-lg is-invalid") }}
                            <div class="invalid-feedback">
                            {% for error in form.name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                            </div>
                        {% else %}
                            {{ form.name(class="form-control", placeholder="Name")}}
                        {% endif %}

                    </div>

                    <div class="form-group">
                        {{ form.card_number.label(class="sr-only") }}
                        <label for="cc-name" class="form-label">Card Number</label>
                        {% if form.card_number.errors %}
                            {{ form.name(class="form-control form-control-lg is-invalid") }}
                            <div class="invalid-feedback">
                            {% for error in form.card_number.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                            </div>
                        {% else %}
                            {{ form.card_number(class="form-control", placeholder="Card Number")}}
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="event_name">Expiry Date</label>
                        {{ form.expiry_date.label(class="sr-only") }}
                        {% if form.expiry_date.errors %}
                            {{ form.expiry_date(class="form-control form-control-lg is-invalid") }}
                            <div class="invalid-feedback">
                            {% for error in form.expiry_date.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                            </div>
                         {% else %}
                            {{ form.expiry_date(class="form-control", placeholder="Event Name")}}
                         {% endif %}
                    </div>


                    <div class="form-group">
                        {{ form.cvv.label(class="sr-only") }}
                        <label for="cvv" class="form-label">CVV</label>
                        {% if form.cvv.errors %}
                            {{ form.cvv(class="form-control form-control-lg is-invalid") }}
                            <div class="invalid-feedback">
                            {% for error in form.cvv.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                            </div>
                        {% else %}
                            {{ form.cvv(class="form-control", placeholder="CVV")}}
                        {% endif %}
                    </div>


          <hr class="mb-4">

          <button class="w-100 btn btn-primary btn-lg" type="submit">Pay (Advance â‚¹5000)</button>
      </div>
    </div>
{% endblock content %}